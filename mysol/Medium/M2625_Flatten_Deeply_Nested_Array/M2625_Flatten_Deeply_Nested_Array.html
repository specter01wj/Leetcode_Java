<!doctype html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script>
			/*
			 	Given a multi-dimensional array arr and a depth n, return a flattened 
        version of that array.

        A multi-dimensional array is a recursive data structure that contains 
        integers or other multi-dimensional arrays.

        A flattened array is a version of that array with some or all of the 
        sub-arrays removed and replaced with the actual elements in that sub-array. 
        This flattening operation should only be done if the current depth of 
        nesting is less than n. The depth of the elements in the first array 
        are considered to be 0.

        Please solve it without the built-in Array.flat method.
			 */
			$(document).ready(function(){

				/**
         * @param {Array} arr
         * @param {number} depth
         * @return {Array}
         */
				let flat = function(arr, n) {
          // Function to recursively flatten the array
          const flatten = (array, depth) => {
              // Base case: if depth is 0, return the array as-is
              if (depth === 0) {
                  return array.slice(); // Create a shallow copy
              }

              let result = [];
              for (let item of array) {
                  if (Array.isArray(item)) {
                      // If item is an array and depth is not reached, flatten it
                      result.push(...flatten(item, depth - 1));
                  } else {
                      // Otherwise, push the item as-is
                      result.push(item);
                  }
              }
              return result;
          };

          return flatten(arr, n);
        };


				let input1 = [1, 2, 3, [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]];
        let n1 = 0, n2 = 1, n3 = 2;

				let tt1 = flat(input1, n1);
				let tt2 = flat(input1, n2);
				let tt3 = flat(input1, n3);
				$('#t1').html('<h2>Input: ' + JSON.stringify(input1) + '<br>Results: ' + JSON.stringify(tt1) + '; ' + JSON.stringify(tt2) + '; ' + JSON.stringify(tt3) + '</h2>');
			});

			/*sol:
				
			 */

		</script>
	</head>
	
	<body>
		<div>
			<p id='t1'></p>
		</div>
	</body>

</html>