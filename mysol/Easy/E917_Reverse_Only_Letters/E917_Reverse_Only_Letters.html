<!doctype html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script>
			/*Given a string S, return the "reversed" string where all characters 
				that are not a letter stay in the same place, and all letters reverse 
				their positions.

						 

				Example 1:

				Input: "ab-cd"
				Output: "dc-ba"

				Example 2:

				Input: "a-bC-dEf-ghIj"
				Output: "j-Ih-gfE-dCba"

				Example 3:

				Input: "Test1ng-Leet=code-Q!"
				Output: "Qedo1ct-eeLg=ntse-T!"
			*/
			$(document).ready(function(){

				/**
		     * @param S: Customary string
		     * @return: Reversed string
		     */
				let reverseOnlyLetters = (S) => {
					let l = 0, r = S.length - 1;
					let strBuilder = S.split('');
					
					while(l < r) {
						if(!(S.charCodeAt(l) >= 'A'.charCodeAt() && S.charCodeAt(l) <= 'Z'.charCodeAt() || 
								S.charCodeAt(l) >= 'a'.charCodeAt() && S.charCodeAt(l) <= 'z'.charCodeAt())) {
							++l;
							continue;
						}
						if(!(S.charCodeAt(r) >= 'A'.charCodeAt() && S.charCodeAt(r) <= 'Z'.charCodeAt() || 
								S.charCodeAt(r) >= 'a'.charCodeAt() && S.charCodeAt(r) <= 'z'.charCodeAt())) {
							--r;
							continue;
						}
						
						let tmp = S.charAt(l);
						strBuilder[l++] = S.charAt(r);
						strBuilder[r--] = tmp;
					}
					
					return strBuilder.join('');
				}

				let input = "Test1ng-Leet=code-Q!";
				let tt1 = reverseOnlyLetters(input);
				$('#t1').html('<h2>Input: ' + input + '<br>Results: ' + tt1 + '</h2>');
			});

			/*sol:
			头部和尾部设置双指针遇到两个字母时，进行交换。
		    Two pointers,
			from the begin and the of the string.
			find two letters and swap them.
			 */

		</script>
	</head>
	
	<body>
		<div>
			<p id='t1'></p>
		</div>
	</body>

</html>