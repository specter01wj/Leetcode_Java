<!doctype html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script>
			/*
			 	Given a pattern and a string s, find if s follows the same pattern.

        Here follow means a full match, such that there is a bijection between 
        a letter in pattern and a non-empty word in s. Specifically:

        . Each letter in pattern maps to exactly one unique word in s.
        . Each unique word in s maps to exactly one letter in pattern.
        . No two letters map to the same word, and no two words map to the same letter.
			 */
			$(document).ready(function(){
        
				/*
        * @param pattern: a string
        * @param str: a string
        * @return: find if s follows the same pattern
        */
        let wordPattern = function(pattern, s) {
            const words = s.split(" ");
            if (words.length !== pattern.length) return false;

            const charToWord = new Map();
            const wordToChar = new Map();

            for (let i = 0; i < pattern.length; i++) {
                const c = pattern[i];
                const word = words[i];

                if (charToWord.has(c)) {
                    if (charToWord.get(c) !== word) return false;
                } else {
                    charToWord.set(c, word);
                }

                if (wordToChar.has(word)) {
                    if (wordToChar.get(word) !== c) return false;
                } else {
                    wordToChar.set(word, c);
                }
            }

            return true;
        };

        const input = "abba", t = "dog cat cat dog";
        let results = wordPattern(input, t);
				$('#t1').html('<h2>Input: ' + JSON.stringify(input, null, 2) + '<br>Results: ' + JSON.stringify(results, null, 2) + '</h2>');
			});

			/*sol:
				HashMap
			 */

		</script>
	</head>
	
	<body>
		<div>
			<p id='t1'></p>
		</div>
	</body>

</html>