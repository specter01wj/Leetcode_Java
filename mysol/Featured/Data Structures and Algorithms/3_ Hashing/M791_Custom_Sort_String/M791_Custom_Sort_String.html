<!doctype html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script>
			/*
			 	You are given two strings order and s. All the characters of order 
        are unique and were sorted in some custom order previously.

        Permute the characters of s so that they match the order that order 
        was sorted. More specifically, if a character x occurs before a 
        character y in order, then x should occur before y in the permuted string.

        Return any permutation of s that satisfies this property.
			 */
			$(document).ready(function(){
        
				/*
        * @param order: a string
        * @param s: a string
        * @return: any permutation of s that satisfies this property
        */
        let wordPattern = function(pattern, s) {
            const words = s.split(" ");
            if (words.length !== pattern.length) return false;

            const charToWord = new Map();
            const wordToChar = new Map();

            for (let i = 0; i < pattern.length; i++) {
                const c = pattern[i];
                const word = words[i];

                if (charToWord.has(c)) {
                    if (charToWord.get(c) !== word) return false;
                } else {
                    charToWord.set(c, word);
                }

                if (wordToChar.has(word)) {
                    if (wordToChar.get(word) !== c) return false;
                } else {
                    wordToChar.set(word, c);
                }
            }

            return true;
        };

        const input = "abba", s = "dog cat cat dog";
        let results = wordPattern(input, s);
				$('#t1').html('<h2>Input: ' + JSON.stringify(input, null, 2) + '<br>Results: ' + JSON.stringify(results, null, 2) + '</h2>');
			});

			/*sol:
				HashMap
			 */

		</script>
	</head>
	
	<body>
		<div>
			<p id='t1'></p>
		</div>
	</body>

</html>