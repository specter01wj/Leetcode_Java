<!doctype html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script>
			/*
			 	You are given a 0-indexed integer array nums.

        The distinct count of a subarray of nums is defined as:

          . Let nums[i..j] be a subarray of nums consisting of all the 
            indices from i to j such that 0 <= i <= j < nums.length. 
            Then the number of distinct values in nums[i..j] is called 
            the distinct count of nums[i..j].

        Return the sum of the squares of distinct counts of all subarrays of nums.

        A subarray is a contiguous non-empty sequence of elements within an array.
			 */
			$(document).ready(function(){
        
				/*
        * @param nums: a list of integers
        * @return: the sum of the squares of distinct counts of all subarrays of nums
        */
        let sumCounts = function(nums) {
            const n = nums.length;
            let totalSum = 0;

            // Iterate over all possible subarray starting points
            for (let i = 0; i < n; i++) {
                const distinctSet = new Set();

                // Iterate over all possible subarray ending points
                for (let j = i; j < n; j++) {
                    // Add the current element to the distinct set
                    distinctSet.add(nums[j]);

                    // Get the size of the set (distinct count) and add its square to totalSum
                    const distinctCount = distinctSet.size;
                    totalSum += distinctCount * distinctCount;
                }
            }

            return totalSum;
        };

        const input = [1,2,1];
        let results = sumCounts(input);
				$('#t1').html('<h2>Input: ' + JSON.stringify(input, null, 2) + '<br>Results: ' + JSON.stringify(results, null, 2) + '</h2>');
			});

			/*sol:
				1. Outer Loop:
          . The outer loop iterates over the starting index (i) of each subarray.
        2. Inner Loop:
          . The inner loop iterates over the ending index (j) of the subarray 
            starting at i.
          . For each subarray nums[i..j], add nums[j] to a HashSet to track 
            distinct elements.
        3. Calculate Distinct Count:
          . The size of the HashSet gives the distinct count of the current subarray.
        4. Square and Add:
          . Square the distinct count and add it to the totalSum.
        5. Return Total:
          . After all iterations, return the totalSum.
			 */

		</script>
	</head>
	
	<body>
		<div>
			<p id='t1'></p>
		</div>
	</body>

</html>