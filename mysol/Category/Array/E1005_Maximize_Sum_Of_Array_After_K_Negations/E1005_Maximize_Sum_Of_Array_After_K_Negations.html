<!doctype html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script>
			/*
			 	Given an integer array nums and an integer k, modify the array 
				in the following way:

				. choose an index i and replace nums[i] with -nums[i].

				You should apply this process exactly k times. You may choose 
				the same index i multiple times.

				Return the largest possible sum of the array after modifying it in this way.


				Example 1:

				Input: nums = [4,2,3], k = 1
				Output: 5
				Explanation: Choose index 1 and nums becomes [4,-2,3].

				Example 2:

				Input: nums = [3,-1,0,2], k = 3
				Output: 6
				Explanation: Choose indices (1, 2, 2) and nums becomes [3,1,0,2].

				Example 3:

				Input: nums = [2,-3,-1,5,-4], k = 2
				Output: 13
				Explanation: Choose indices (1, 4) and nums becomes [2,3,-1,5,4].
			 */
			$(document).ready(function(){

				/*
		     * @param nums: an array
		     * @param k: an integer
		     * @return: the largest possible sum of the array after modifying it in this way
		     */
				let canThreePartsEqualSum = function(arr) {
					let sum = arr.reduce((prev, curr) => prev + curr, 0);
					let part = 0, average = Math.floor(sum / 3), cnt = 0;
	        for (let a of arr) {
	            part += a;
	            if (part === average) { // find the average: sum / 3
	                ++cnt; // find an average, increase the counter.
	                part = 0; // reset part.
	            }
	        }
	        return cnt >= 3 && sum % 3 === 0;
				};

				let nums = [0,2,1,-6,6,-7,9,1,2,0,1];
				// let nums = [0,2,1,-6,6,7,9,-1,2,0,1];
				let tt1 = canThreePartsEqualSum(nums);
				$('#t1').html('<h2>Input: ' + nums + '<br>Results: ' + tt1 + '</h2>');
			});

			/*sol:
				1- sort the numbers in ascending order
				2- flip all the negative numbers, as long as k > 0
				3- find the sum of the new array (with flipped numbers if any) and 
					keep track of the minimum number
				4- Now for the return statement
				
				res is the total sum of the new array
				K % 2 check if the remaining K is odd.
				
				Because if it's even, it will have no effect
				(we will flip a number and then get it back to the original)
				
				If it's odd,
				flip the minimum number and remove twice its value from the result
				(twice because we already added it as positive in our sum operation)
			 */

		</script>
	</head>
	
	<body>
		<div>
			<p id='t1'></p>
		</div>
	</body>

</html>