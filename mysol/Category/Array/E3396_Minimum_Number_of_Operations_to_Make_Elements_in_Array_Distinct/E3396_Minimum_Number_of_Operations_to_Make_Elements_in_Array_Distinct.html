<!doctype html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script>
			/*
			 	You are given an integer array nums. You need to ensure that the 
        elements in the array are distinct. To achieve this, you can perform 
        the following operation any number of times:

          . Remove 3 elements from the beginning of the array. If the array has 
            fewer than 3 elements, remove all remaining elements.

        Note that an empty array is considered to have distinct elements. 
        Return the minimum number of operations needed to make the elements 
        in the array distinct.
			 */
			$(document).ready(function(){
        
				/*
        * @param nums: a list of integers
        * @return: the minimum number of operations
        */
        let minimumOperations = function(nums) {
            let ops = 0;
            let i = 0;

            while (i < nums.length) {
                let seen = new Set();
                let hasDuplicate = false;

                for (let j = i; j < nums.length; j++) {
                    if (seen.has(nums[j])) {
                        hasDuplicate = true;
                        break;
                    }
                    seen.add(nums[j]);
                }

                if (!hasDuplicate) return ops;

                // Remove first 3 elements
                i += 3;
                ops++;
            }

            return ops;
        };

        const input = [1,2,3,4,2,3,3,5,7];
        let results = minimumOperations(input);
				$('#t1').html('<h2>Input: ' + JSON.stringify(input, null, 2) + '<br>Results: ' + JSON.stringify(results, null, 2) + '</h2>');
			});

			/*sol:
				1. Initialization:
          . n is the length of the input array nums.
          . ops counts the number of operations performed.
          . i is the current starting index of the array after successive removals.
        2. Main Loop:
          . While i < n, do the following:
            . Initialize a HashSet<Integer> to track seen elements.
            . Scan from index i to end of array:
              . If a duplicate is found (!seen.add(nums[j])), mark hasDuplicate = true and break.
            . If no duplicate is found, return the number of operations ops.
        3. Simulate Removal:
          . If duplicates are found, increment i by 3 (remove first 3 elements).
          . Increase operation count ops.
        4. Termination:
          . Once all elements are removed or no duplicates remain, return ops.
			 */

		</script>
	</head>
	
	<body>
		<div>
			<p id='t1'></p>
		</div>
	</body>

</html>