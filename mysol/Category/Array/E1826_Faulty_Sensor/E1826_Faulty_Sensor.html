<!doctype html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script>
			/*
			 	An experiment is being conducted in a lab. To ensure accuracy, 
        there are two sensors collecting data simultaneously. 
        You are given two arrays sensor1 and sensor2, where sensor1[i] 
        and sensor2[i] are the ith data points collected by the two sensors.

        However, this type of sensor has a chance of being defective, 
        which causes exactly one data point to be dropped. 
        After the data is dropped, all the data points to the right of 
        the dropped data are shifted one place to the left, and the last 
        data point is replaced with some random value. 
        It is guaranteed that this random value will not be equal to the dropped value.

          . For example, if the correct data is [1,2,3,4,5] and 3 is dropped, the sensor 
            could return [1,2,4,5,7] (the last position can be any value, not just 7).

        We know that there is a defect in at most one of the sensors. 
        Return the sensor number (1 or 2) with the defect. If there is no defect in 
        either sensor or if it is impossible to determine the defective sensor, return -1.
			 */
			$(document).ready(function(){

				/*
          * @param sensor1: a list of integers
          * @param sensor2: a list of integers
          * @return: the sensor number (1 or 2) with the defect
          */
        let badSensor = function(sensor1, sensor2) {
          let i = 0, sz = sensor1.length;
          while (i < sz && sensor1[i] === sensor2[i]) {
              ++i;
          }
          while (i + 1 < sz && sensor1[i] === sensor2[i + 1] && sensor1[i + 1] === sensor2[i]) {
              ++i;
          }
          return i >= sz - 1 ? -1 : sensor1[i] === sensor2[i + 1] ? 1 : 2;
        };

        const sensor1 = [2, 3, 4, 5];
        const sensor2 = [2, 1, 3, 4];
        let results = badSensor(sensor1, sensor2);
				$('#t1').html('<h2>Input: ' + sensor1 + '; Input2: ' + sensor2 + '<br>Results: ' + (results) + '</h2>');
			});

			/*sol:
				1. Initial Matching: The first while loop advances the index i while 
            the elements of s1 and s2 match.
        2. Check for a single mismatch: The second while loop checks if removing 
          a single element from either s1 or s2 could make the arrays match.
        3. Determine defective sensor: After the loops, if the index i has reached 
          the end (or near the end) of the arrays, it means no single element 
          removal can fix the mismatch, so it returns -1. Otherwise, it checks 
          which sensor has the discrepancy and returns 1 or 2 accordingly.
			 */

		</script>
	</head>
	
	<body>
		<div>
			<p id='t1'></p>
		</div>
	</body>

</html>