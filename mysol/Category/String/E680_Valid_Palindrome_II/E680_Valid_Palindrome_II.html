<!doctype html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script>
			/*Given a non-empty string s, you may delete at most one character. 
				Judge whether you can make it a palindrome.

				Example 1:
				Input: "aba"
				Output: True

				Example 2:
				Input: "abca"
				Output: True
				Explanation: You could delete the character 'c'.
			*/
			$(document).ready(function(){

				/**
		     * @param s: a string
		     * @return boolean: valid palindrome
		     */
				let validPalindrome = (s) => {
					int left = 0, right = s.length() - 1;
	        
	        while(left < right) {
	            if(s.charAt(left) != s.charAt(right)) {
	                break;
	            }
	            left++;
	            right--;
	        }
	        
	        if(left >= right) {
	        	return true;
	        }
	        
	        return isSubPalindrome(s, left + 1, right) || isSubPalindrome(s, left, right - 1);
				}

				function isSubPalindrome(s, left, right) {
					while(left < right) {
	            if(s.charAt(left) != s.charAt(right)) {
	                return false;
	            }
	            left++;
	            right--;
	        }
	        
	        return true;
				}

				let input = "abdcda";
				let tt1 = validPalindrome(input);
				$('#t1').html('<h2>Input: ' + input + '<br>Results: ' + tt1 + '</h2>');
			});

			/*sol:
			双指针算法。从两头走到中间，发现第一对不一样的字符之后，要么删左边的，要么删右边的。
			 */

		</script>
	</head>
	
	<body>
		<div>
			<p id='t1'></p>
		</div>
	</body>

</html>