<!doctype html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script>
			/*
			 	A valid parentheses string is either empty "", "(" + A + ")", or A + B, 
				where A and B are valid parentheses strings, and + represents string 
				concatenation.

				For example, "", "()", "(())()", and "(()(()))" are all valid parentheses 
				strings.
				A valid parentheses string s is primitive if it is nonempty, and there 
				does not exist a way to split it into s = A + B, with A and B nonempty 
				valid parentheses strings.

				Given a valid parentheses string s, consider its primitive 
				decomposition: s = P1 + P2 + ... + Pk, where Pi are primitive 
				valid parentheses strings.

				Return s after removing the outermost parentheses of every primitive 
				string in the primitive decomposition of s.


				Example 1:

				Input: s = "(()())(())"
				Output: "()()()"
				Explanation: 
				The input string is "(()())(())", 
				with primitive decomposition "(()())" + "(())".
				After removing outer parentheses of each part, this is "()()" + "()" = "()()()".

				Example 2:

				Input: s = "(()())(())(()(()))"
				Output: "()()()()(())"
				Explanation: 
				The input string is "(()())(())(()(()))", 
				with primitive decomposition "(()())" + "(())" + "(()(()))".
				After removing outer parentheses of each part, 
				this is "()()" + "()" + "()(())" = "()()()()(())".

				Example 3:

				Input: s = "()()"
				Output: ""
				Explanation: 
				The input string is "()()", with primitive decomposition "()" + "()".
				After removing outer parentheses of each part, this is "" + "" = "".
			 */
			$(document).ready(function(){

				/**
		     * @param s: a string
		     * @return: after removing the outermost parentheses
		     */
				let removeOuterParentheses = function(s) {
					let str = [];
	        let opened = 0;
	        for (let c of s.split('')) {
	            if (c === '(' && (opened++ > 0)) {
	            	str.push(c);
	            }
	            if (c === ')' && (opened-- > 1)) {
	            	str.push(c);
	            }
	        }
	        return str.join('');
				};

				// let str1 = "(()())(())";
				let str1 = "(()())(())(()(()))";
				let tt1 = removeOuterParentheses(str1);
				$('#t1').html('<h2>Input1: ' + str1 + '<br>Results: ' + tt1 + '</h2>');
			});

			/*sol:
				opened count the number of opened parenthesis.
				Add every char to the result,
				unless the first left parenthesis,
				and the last right parenthesis.
			 */

		</script>
	</head>
	
	<body>
		<div>
			<p id='t1'></p>
		</div>
	</body>

</html>